<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emotion Detection</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            color: #333;
            margin: 0;
            padding: 20px;
            text-align: center;
        }
        
        h1 {
            color: #2c3e50;
        }

        button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 10px;
            font-size: 16px;
            cursor: pointer;
            border-radius: 5px;
            transition: background-color 0.3s;
        }

        button:hover {
            background-color: #2980b9;
        }

        .info {
            background-color: #ecf0f1;
            border: 1px solid #bdc3c7;
            padding: 15px;
            border-radius: 5px;
            margin: 20px auto;
            max-width: 500px;
        }

        .info p {
            margin: 0;
        }
    </style>
</head>
<body>
    <h1>Emotion Detection</h1>
    <button id="start-capture">Start Capture</button>
    
    <div class="info">
        <p>When you click "Start Capture," a window will appear in the taskbar. Open it to see the video stream.</p>
        <p>To stop capturing, press the "q" key on your keyboard.</p>
    </div>

    <script>
        document.getElementById('start-capture').onclick = function() {
            // Trigger the capture route
            fetch('/capture')
                .then(response => response.json())
                .then(data => console.log(data));
        };
    </script>
</body>
</html> -->


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emotion Detection</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            color: #333;
            margin: 0;
            padding: 20px;
            text-align: center;
        }
       
         ul {
    list-style-type: none;

}   
        
        
        h1 {
            color: #2c3e50;
        }

        button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 10px 20px;
            margin: 10px;
            font-size: 16px;
            cursor: pointer;
            border-radius: 5px;
            transition: background-color 0.3s;
        }

        button:hover {
            background-color: #2980b9;
        }

        .info {
            background-color: #ecf0f1;
            border: 1px solid #bdc3c7;
            padding: 15px;
            border-radius: 5px;
            margin: 20px auto;
            max-width: 500px;
        }

        .results {
            margin-top: 20px;
            background-color: #e7f9e7;
            padding: 15px;
            border: 1px solid #c8e6c9;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <h1>Emotion Detection</h1>
    <button id="start-capture">Start Capture</button>
    
    <div class="info">
        <p>When you click "Start Capture," a window will appear in the taskbar. Open it to see the video stream.</p>
        <p>To stop capturing, press the "q" key on your keyboard.</p>
    </div>

    <div class="results" id="results-container"></div>
    <script>
        document.getElementById('start-capture').onclick = function() {
            // Trigger the capture route
            fetch('/capture')
                .then(response => response.json())
                .then(data => {
                    console.log(data);
                    displayResults(data.results); // Call function to display results
                });
        };
    
        function displayResults(results) {
    const resultsContainer = document.getElementById('results-container');
    resultsContainer.innerHTML = ''; // Clear previous results

    if (results.length === 0) {
        resultsContainer.innerHTML = '<p>No results captured.</p>';
        return;
    }

    // Create a list to display all detected labels and corresponding messages
    const messagesList = document.createElement('ul');

    results.forEach((frameResults) => {
        // Extract the label from the frameResults
        const label = frameResults.label; // Assuming frameResults contains an object with a label property
        const message = getEmotionMessage(label); // Get the corresponding message for the emotion

        const listItem = document.createElement('li');
        listItem.textContent = message; // Set the emotional message as the text of the list item
        messagesList.appendChild(listItem); // Add the list item to the messages list
    });

    resultsContainer.appendChild(messagesList); // Append the list to the results container
}


        function getEmotionMessage(emotion) {
    switch (emotion) {
        case 'Happy':
            return 'üòä You seem to be feeling great! Keep smiling!';
        case 'Sad':
            return 'üò¢ It‚Äôs okay to feel sad sometimes. Take care of yourself.';
        case 'Angry':
            return 'üò† Take a deep breath. It‚Äôs important to stay calm.';
        case 'Surprised':
            return 'üòÆ Wow! That‚Äôs quite a surprise! Embrace the unexpected!';
        case 'Fear':
            return 'üò® It‚Äôs normal to feel scared sometimes. Remember, you‚Äôre not alone.';
        case 'Neutral':
            return 'üòê You‚Äôre feeling neutral. A perfect time to reflect!';
        // Add more emotions and phrases as needed
        default:
            return 'ü§î It‚Äôs hard to say how you‚Äôre feeling right now!';
    } }
    </script>
    
</body>
</html>
